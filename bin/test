#!/usr/bin/env ruby
require '../lib/dat'
include Dat
require 'set'

set = Set.new
w1 = Word.new("sup1", "poo def")
w2 = Word.new("sup1", "poo def asfasfasf")

set.add(w1)
set.add(w2)
h= {}
h[w1] = w1
h[w2] = w2
p h
p set

__END__
d = Dict.new
loop do
begin
  b = SimpleBot.new
  g = Game.new(Logger.new()[0], :players => ['p1', b], :dict => d)
  b.init(g)
    m = b.move
  while m && m.size < 15 do # rough measure to check we're always iterating on words
    m = g.play('p1', g.logic.perturb(m.strip, g.used)[0].to_s)
  end
rescue InvalidMove => e
  puts "#{e.message} =, player (#{g.whos_turn}), m: (#{m}), game: (#{g}), last (#{g.last})"
end
end
