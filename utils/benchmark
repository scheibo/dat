#!/usr/bin/env ruby
$: << File.expand_path('../../lib', __FILE__)
require 'dat'
require './rb-logic'
require 'tach'

d = Dat::Dict.new
Tach.meter(10000) do
  tach('c-logic') do
    Dat::Logic.perturb('DAT', d)
  end
  tach('rb-logic') do
    RbDat::Logic.perturb('DAT', d)
  end
end
=begin
Tach.meter(10000) do
  tach('c-logic') do
    s = (0...8).map{65.+(rand(25)).chr}.join
    t = (0...8).map{65.+(rand(25)).chr}.join
    Dat::Logic.damlev(s,t)
  end
  tach('rb-logic') do
    s = (0...8).map{65.+(rand(25)).chr}.join
    t = (0...8).map{65.+(rand(25)).chr}.join
    RbDat::Logic.damlev(s,t)
  end
end
Tach.meter(10000) do
  tach('c-logic') do
    Dat::Logic.damlev 'CA', 'ABC' # => 2
    Dat::Logic.damlev 'TEUSDAY', 'TUESDAY' # => 1
    Dat::Logic.damlev 'TEUSDAY', 'THRUSDAY' # => 2
    Dat::Logic.damlev 'TUESDAY', 'SOMETHING' # => 8
  end
  tach('rb-logic') do
    RbDat::Logic.damlev 'CA', 'ABC' # => 2
    RbDat::Logic.damlev 'TEUSDAY', 'TUESDAY' # => 1
    RbDat::Logic.damlev 'TEUSDAY', 'THRUSDAY' # => 2
    RbDat::Logic.damlev 'TUESDAY', 'SOMETHING' # => 8
  end
end
=end
